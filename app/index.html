<!doctype html>
<html lang="en" ng-app="myApp" >
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>mp</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

    <!-- build:css(.) styles/vendor.css -->
    <!-- bower:css -->
    <!-- endbower -->
    <!-- endbuild -->
    <!-- build:css(.tmp) styles/main.css -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/sidebar-left.css">
      <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
 

    <!-- endbuild -->
    
 <script src="/bower_components/angular/angular.min.js"></script>
      <script src="/bower_components/angular/angular.js"></script>
      <script src="/bower_components/babylonjs/dist/babylon.2.2.js"></script>
       
    <!-- build:js scripts/vendor/modernizr.js -->
   
    <!-- endbuild -->
   
     
  </head>
  <body ng-controller="mainController">
    <!--[if lt IE 10]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    
  <aside class="sidebar-left">

    <a class="company-logo" href="#">MP</a>

    <div class="sidebar-links">
     <a class="link-green selected" href="#"><i class="fa fa-home"></i>Home</a>
     <a class="link-blue" href="#"><i class="fa fa-female"></i>Women</a>
     <a class="link-red" href="#"><i class="fa fa-male"></i>Men</a>
     <a class="link-yellow" href="#"><i class="fa fa-child"></i>Kids</a>
     
    </div>

  </aside>



  <div class="">
<style>
            html, body {
                overflow: hidden;
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }

            #renderCanvas {
                width: 100%;
                height: 100%;
                touch-action: none;
            }
        </style>
<canvas id="renderCanvas"></canvas>

    <script>
        var canvas = document.getElementById("renderCanvas");
        var engine = new BABYLON.Engine(canvas, true);

        var createScene = function () {
            var scene = new BABYLON.Scene(engine);
        
            // Setup environment
            var light = new BABYLON.PointLight("Omni", new BABYLON.Vector3(10, 10, 50), scene);
            var light2 = new BABYLON.PointLight("Omni", new BABYLON.Vector3(10, 10, -20), scene);
            var camera = new BABYLON.ArcRotateCamera("Camera", 0, 0.8, 100, new BABYLON.Vector3.Zero(), scene);
            camera.attachControl(canvas);
        
            // Spheres
            var sphere1 = BABYLON.Mesh.CreateSphere("Sphere1", 16.0, 10.0, scene);
            var sphere2 = BABYLON.Mesh.CreateSphere("Sphere2", 16.0, 10.0, scene);
            var sphere3 = BABYLON.Mesh.CreateSphere("Sphere3", 16.0, 10.0, scene);
        
            sphere1.position.x = -20;
            sphere2.position.x = 0;
            sphere3.position.x = 20;
        
            camera.radius = 100; // how far from the object to follow
            camera.heightOffset = 0.25; // how high above the object to place the camera
            camera.rotationOffset = 360; // the viewing angle
            camera.cameraAcceleration = 0.05 // how fast to move
            camera.maxCameraSpeed = 20


            // Video plane
            var videoPlane = BABYLON.Mesh.CreatePlane("Screen", 700, scene);
            videoPlane.position.y = 100;
            videoPlane.position.z = 300;
        
            // Mirror
            var plane = BABYLON.Mesh.CreatePlane("plan", 700, scene);
            plane.position.y = -20;
            plane.rotation = new BABYLON.Vector3(Math.PI / 2, 0, 0);
        
            // MATERIALS
            var bumpMaterial = new BABYLON.StandardMaterial("texture1", scene);
            bumpMaterial.diffuseColor = new BABYLON.Color3(0, 0, 1);//Blue
            bumpMaterial.bumpTexture = new BABYLON.Texture("textures/normalMap.jpg", scene);
        
            var simpleMaterial = new BABYLON.StandardMaterial("texture2", scene);
            simpleMaterial.diffuseColor = new BABYLON.Color3(1, 0, 0);//Red
        
            var textMat = new BABYLON.StandardMaterial("texture3", scene);
            textMat.diffuseTexture = new BABYLON.Texture("textures/normalMap.jpg", scene);
        
            //Creation of a mirror material
            var mirrorMaterial = new BABYLON.StandardMaterial("texture4", scene);
            mirrorMaterial.diffuseColor = new BABYLON.Color3(0.4, 0.4, 0.4);
            mirrorMaterial.reflectionTexture = new BABYLON.MirrorTexture("mirror", 512, scene, true); //Create a mirror texture
            mirrorMaterial.reflectionTexture.mirrorPlane = new BABYLON.Plane(0, -1.0, 0, -10.0);
            mirrorMaterial.reflectionTexture.renderList = [sphere1, sphere2, sphere3, videoPlane];
            mirrorMaterial.reflectionTexture.level = 0.6;//Select the level (0.0 > 1.0) of the reflection
        
            // Multimaterial
            var multimat = new BABYLON.MultiMaterial("multi", scene);
            multimat.subMaterials.push(simpleMaterial);
            multimat.subMaterials.push(bumpMaterial);
            multimat.subMaterials.push(textMat);
        
            sphere2.subMeshes = [];
            var verticesCount = sphere2.getTotalVertices();
        
            sphere2.subMeshes.push(new BABYLON.SubMesh(0, 0, verticesCount, 0, 900, sphere2));
            sphere2.subMeshes.push(new BABYLON.SubMesh(1, 0, verticesCount, 900, 900, sphere2));
            sphere2.subMeshes.push(new BABYLON.SubMesh(2, 0, verticesCount, 1800, 2088, sphere2));
        
            // Video material
            var videoMat = new BABYLON.StandardMaterial("textVid", scene);
            videoMat.diffuseTexture = new BABYLON.VideoTexture("video", ["textures/babylonjs.mp4", "textures/babylonjs.webm"], scene, false);
            videoMat.backFaceCulling = false;
        
            //Applying materials
            sphere1.material = bumpMaterial;
            sphere2.material = multimat;
            sphere3.material = simpleMaterial;
            plane.material = mirrorMaterial;
            videoPlane.material = videoMat;

             
        
            return scene;
        }
        
        var scene = createScene();

        engine.runRenderLoop(function () {
            scene.render();
        });

        // Resize
        window.addEventListener("resize", function () {
            engine.resize();
        });
    </script>





  </div>  

    <!-- build:js(.) scripts/vendor.js -->
    <!-- bower:js -->

    <script src="/bower_components/jquery/dist/jquery.js"></script>
    <!-- endbower -->
    <!-- endbuild -->

    <!-- build:js scripts/main.js -->
    <script src="/scripts/app.js"></script>
    <script src="/scripts/main.js"></script>
    
    <!-- endbuild -->
    
    <!-- build:js(.) scripts/plugins.js -->
  
   

    <!-- endbuild -->
    
        
     
  </body>
</html>
